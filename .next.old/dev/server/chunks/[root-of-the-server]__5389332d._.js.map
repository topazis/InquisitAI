{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/steve/inquisitai/app/api/early-access/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\n\r\nconst FORMSPREE_ENDPOINT = \"https://formspree.io/f/manrldra\";\r\n\r\nfunction isValidEmail(email: string): boolean {\r\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const body = await req.json().catch(() => null);\r\n    const email = (body?.email as string | undefined)?.trim();\r\n\r\n    if (!email) {\r\n      return NextResponse.json(\r\n        { error: \"Email is required.\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    if (!isValidEmail(email)) {\r\n      return NextResponse.json(\r\n        { error: \"Please enter a valid email address.\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Forward to Formspree\r\n    const resp = await fetch(FORMSPREE_ENDPOINT, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        source: \"inquistai-early-access\",\r\n      }),\r\n    });\r\n\r\n    if (!resp.ok) {\r\n      const text = await resp.text().catch(() => \"\");\r\n      console.error(\"Formspree error:\", resp.status, text);\r\n      return NextResponse.json(\r\n        { error: \"Failed to store email. Please try again later.\" },\r\n        { status: 502 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({ ok: true });\r\n  } catch (error) {\r\n    console.error(\"Early access API error:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Internal error while capturing email.\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,qBAAqB;AAE3B,SAAS,aAAa,KAAa;IACjC,OAAO,6BAA6B,IAAI,CAAC;AAC3C;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;QAC1C,MAAM,QAAS,MAAM,OAA8B;QAEnD,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAqB,GAC9B;gBAAE,QAAQ;YAAI;QAElB;QAEA,IAAI,CAAC,aAAa,QAAQ;YACxB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAsC,GAC/C;gBAAE,QAAQ;YAAI;QAElB;QAEA,uBAAuB;QACvB,MAAM,OAAO,MAAM,MAAM,oBAAoB;YAC3C,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,QAAQ;YACV;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB;gBACA,QAAQ;YACV;QACF;QAEA,IAAI,CAAC,KAAK,EAAE,EAAE;YACZ,MAAM,OAAO,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,IAAM;YAC3C,QAAQ,KAAK,CAAC,oBAAoB,KAAK,MAAM,EAAE;YAC/C,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAiD,GAC1D;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAK;IACtC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwC,GACjD;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}